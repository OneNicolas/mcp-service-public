name = "mcp-service-public"
main = "src/index.ts"
compatibility_date = "2025-02-20"
compatibility_flags = ["nodejs_compat"]

# Durable Object for MCP session management
[durable_objects]
bindings = [
  { name = "MCP_OBJECT", class_name = "ServicePublicMcp" }
]

[[migrations]]
tag = "v1"
new_classes = ["ServicePublicMcp"]

# D1 database for fiches index
[[d1_databases]]
binding = "DB"
database_name = "service-public-db"
database_id = "91451f1f-61ba-4aef-b152-c725b4ac99e5"

# Cron trigger for daily DILA data sync
[triggers]
crons = ["0 6 * * *"]
